(this.webpackJsonpposenet=this.webpackJsonpposenet||[]).push([[0],{13:function(e,t,n){e.exports=n(28)},18:function(e,t,n){},2:function(e){e.exports=JSON.parse('{"c":{"width":640,"height":360},"b":0.35,"a":0.5}')},25:function(e,t){},26:function(e,t){},27:function(e,t){},28:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),a=n(11),o=n.n(a),c=(n(18),n(3)),u=n.n(c),s=n(6),f=n(4),l=n(12),h=n(2),d=function(){var e=Object(s.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a({architecture:"ResNet50",outputStride:32,inputResolution:h.c,quantBytes:2});case 2:n=e.sent,t(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"green";e.forEach((function(e){if(e.score>=h.a){var r=e.position,i=r.x,a=r.y;t.beginPath(),t.arc(i,a,4,0,2*Math.PI,!1),t.fillStyle=n,t.fill()}}))},v=function(e){var t=e.videoRef,n=e.videoIsReady,i=Object(r.useState)(null),a=Object(f.a)(i,2),o=a[0],c=a[1];return Object(r.useEffect)((function(){n&&d(c)}),[t,n]),o},g=["nose","leftEye","rightEye","leftEar","rightEar"],m=function(e){var t=e.keypoints,n=e.startingPoints,r=e.minDeviationPercentage,i=n.filter((function(e){var t=e.part;return g.includes(t)}));return!t.filter((function(e){var t=e.part;return g.includes(t)})).some((function(e,t){if(i[t].part!==e.part)return!0;var n=Math.abs(i[t].position.x-e.position.x),a=Math.abs(i[t].position.y-e.position.y);return Math.sqrt(Math.pow(n,2)+Math.pow(a,2))>r}),[])},b=function(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(r.useRef)([]),a=Object(r.useState)([]),o=Object(f.a)(a,2),c=o[0],l=o[1],d=Object(r.useState)(!1),g=Object(f.a)(d,2),b=g[0],w=g[1],y=Object(r.useState)(null),O=Object(f.a)(y,2),j=O[0],E=O[1];Object(r.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",video:{width:h.c.width,height:h.c.height}}}).then((function(t){e.current.srcObject=t,e.current.onloadedmetadata=function(t){e.current.play(),w(!0)},e.current.width=h.c.width,e.current.height=h.c.height})).catch((function(e){return E(e)}))}),[]);var k=v({videoRef:e,videoIsReady:b});return Object(r.useEffect)((function(){var r,i=t.current.getContext("2d");if(b&&k){var a=function(){var t=Object(s.a)(u.a.mark((function t(){var r,a,o,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.estimateSinglePose(e.current,{flipHorizontal:!1});case 2:r=t.sent,a=r.keypoints,o=r.score,i.drawImage(e.current,0,0,h.c.width,h.c.height),o>=h.b&&(n.current=a,p(a,i)),c.length>0&&(s=m({keypoints:n.current,startingPoints:c,minDeviationPercentage:40}),console.log(s));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();r=requestAnimationFrame((function e(){a(),r=requestAnimationFrame(e)}))}return function(){cancelAnimationFrame(r)}})),j?(console.log(j),i.a.createElement("div",null,"there was an error loading, make sure your browser supports webcam or that your webcam is turned on")):i.a.createElement("div",null,i.a.createElement("video",{style:{position:"fixed",zIndex:-1},ref:e,autoPlay:!0}),i.a.createElement("canvas",{width:h.c.width,height:h.c.height,ref:t,id:"c1"}),i.a.createElement("button",{onClick:function(){l(n.current)}},"Set starting points"),i.a.createElement("button",{onClick:function(){l([])}},"Stop posture tracking"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.2da37666.chunk.js.map